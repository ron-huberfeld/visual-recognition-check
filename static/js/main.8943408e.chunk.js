(this.webpackJsonpcovitout=this.webpackJsonpcovitout||[]).push([[0],{14:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));a(40),a(41);var n=function(e){return e.result.images[0].objects.collections[0].objects},i=function(e){return e}}).call(this,"/")},15:function(e){e.exports=JSON.parse('{"b":"** CovItOut **","a":"Using IBM\'s Watson Visual Recognition service which uses deep learning algorithms to analyze images for scenes, objects, text, and other subjects."}')},18:function(e,t,a){},24:function(e,t,a){e.exports=a.p+"static/media/r-pic22.dc634cb6.jpg"},25:function(e,t,a){e.exports=a.p+"static/media/r-pic16.257e9a12.jpg"},26:function(e,t,a){e.exports=a.p+"static/media/r-pic12.0cc70e37.jpg"},30:function(e,t,a){e.exports=a(43)},39:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(19),c=a.n(o),r=(a(18),function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])}),l=a(48),s=function(e){var t=e.description,a=e.links,n=e.title;return i.a.createElement(l.b,{className:"header"},i.a.createElement("div",{className:"title-container"},i.a.createElement("h3",{className:"header-title"},n),i.a.createElement("p",null,t)),i.a.createElement("div",{className:"link-container"},i.a.createElement("div",{className:"link-wrapper"},a.map((function(e){return e})))))};s.defaultProps={description:"",links:[],title:""};var m=s,u=a(13),d=a.n(u),p=a(21),f=a(3),g=function(e){var t=e.images,a=e.onClick;return t.map((function(e,t){return i.a.createElement("div",{key:t,className:"image-picker--section__tile"},i.a.createElement(l.a,{id:"tile-".concat(t),handleClick:function(){a(t)}},i.a.createElement("img",{className:"image-picker--section__image",src:e.url,alt:e.alt})))}))},v=function(e){var t=e.loadingMessage;return i.a.createElement("span",{className:"loader"},i.a.createElement("div",{className:"loader-container"},i.a.createElement("div",{className:"loader-dots"}),t?i.a.createElement("div",{className:"loader-message"},i.a.createElement("p",{className:"ibm-type-a"},t)):null))};v.defaultProps={loadingMessage:null};var h=v,b=a(28),E=a(23),k=a.n(E),_=function(e){var t=e.onUpload;return i.a.createElement("div",{className:"image-picker--section__tile"},i.a.createElement(l.a,{id:"123",handleClick:function(){}},i.a.createElement(b.a,{multiple:!1,onDrop:function(e){t(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",Object.assign({},t(),{className:"upload-image"}),i.a.createElement("input",a()),i.a.createElement(k.a,null),i.a.createElement("p",{className:"upload-text"},"Select or drag an image"))}))))},w=(a(39),function(e){var t=e.locationData;return i.a.createElement(i.a.Fragment,null,t?t.map((function(e,t){var a=e.location.left,n=e.location.top,o=e.location.width,c=e.location.height,r="mask"===e.object?"green":"red";return i.a.createElement("span",{className:"face-mark2",key:t},i.a.createElement("div",{className:"face-mark3",style:{backgroundSize:"contain",position:"absolute",borderColor:r,height:"".concat(c,"px"),width:"".concat(o,"px"),top:"".concat(n,"px"),left:"".concat(a,"px")}}))})):null)}),y=function(e){var t=e.showLoader,a=e.viewerImage,n=e.pickerImages,o=e.onSelectTile,c=e.onUpload,r=e.locationData;return i.a.createElement("div",{className:"main-image-picker__container"},i.a.createElement("div",{className:"main-image-picker"},i.a.createElement("div",null,i.a.createElement("img",{className:"main-image-picker__image",src:a,alt:"main"}),t?i.a.createElement(h,null):null,t?null:i.a.createElement(w,{locationData:r}))),i.a.createElement("div",{className:"image-selection__container"},i.a.createElement("div",{className:"image-picker__tiles"},i.a.createElement(g,{images:n,onClick:function(e){o(e)}}),i.a.createElement(_,{onUpload:function(e){c(e)}}))))};y.defaultProps={viewerType:"image"};var N=y,j=function(e){var t=e.images,a=e.onSubmitImage,o=e.handleUnsupportedFormats,c=e.isClassifying,r=e.results,s="";t[0]&&t[0].url&&(s=t[0].url);var m=Object(n.useState)(s),u=Object(f.a)(m,2),d=u[0],p=u[1];return i.a.createElement(l.b,{className:"input-container"},i.a.createElement(N,{showLoader:c,viewerImage:d,pickerImages:t,onSelectTile:function(e){!function(e){var n=t[e].url;a({image_file:n}),p(n)}(e)},onUpload:function(e){!function(e){var t=e[0];if(["image/gif","image/png","image/jpg","image/jpeg"].includes(t.type)){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;p(e),a({image_data:e})},n.readAsDataURL(t)}else o()}(e)},locationData:r}))},C=a(46),O=function(e){var t=e.caption,a=e.children,o=e.className,c=e.hideAfterFirstDisplay,r=e.hideCloseButton,l=e.iconDescription,s=e.kind,m=e.lowContrast,u=e.onCloseButtonClick,d=e.role,p=e.subtitle,g=e.timeout,v=e.title,h=Object(n.useState)(),b=Object(f.a)(h,2),E=b[0],k=b[1],_=Object(n.useState)(!1),w=Object(f.a)(_,2),y=w[0],N=w[1];return Object(n.useEffect)((function(){k(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".custom-toast-".concat(E));e&&(e.className+="enter")}),[E]),Object(n.useEffect)((function(){c&&void 0!==typeof window&&void 0!==typeof window.localStorage&&"true"===window.localStorage.getItem("notificationHasBeenSeen")&&N(!0)}),[c]),y?null:i.a.createElement(C.a,{caption:t,className:"custom-toast-".concat(E," ").concat(o),hideCloseButton:r,iconDescription:l,kind:s,lowContrast:m,onCloseButtonClick:function(){c&&void 0!==typeof window&&void 0!==typeof window.localStorage&&window.localStorage.setItem("notificationHasBeenSeen","true"),u()},role:d,subtitle:p,timeout:g,title:v},a)};O.defaultProps={caption:"",children:null,className:"",hideAfterFirstDisplay:!0,hideCloseButton:!1,iconDescription:"closes notification",kind:"error",lowContrast:!1,onCloseButtonClick:function(){},role:"alert",subtitle:"",timeout:0,title:""};var S=O,B=a(14),D=a(24),W=a.n(D),I=a(25),P=a.n(I),F=a(26),x=a.n(F),A=function(){var e=[{url:W.a,alt:"pic1"},{url:P.a,alt:"pic2"},{url:x.a,alt:"pic3"}],t=Object(n.useState)(!1),a=Object(f.a)(t,2),o=a[0],c=a[1],r=Object(n.useState)([]),l=Object(f.a)(r,2),s=l[0],m=l[1],u=Object(n.useState)(null),g=Object(f.a)(u,2),v=g[0],h=g[1],b=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),c(!0),fetch("/api/classify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.error?h(e.error):m(Object(B.b)(e))})).catch((function(e){h({title:e.message,description:e.message})})).finally((function(){return c(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"service-container"},i.a.createElement(S,{kind:"info",subtitle:"This system is for demonstration purposes only and is not intended to process Personal Data. No Personal Data is to be entered into this system as it may not have the necessary controls in place to meet the requirements of the General Data Protection Regulation (EU) 2016/679."}),v&&i.a.createElement(S,{kind:"error",title:v.title,subtitle:v.description,hideAfterFirstDisplay:!1,timeout:5e3,onCloseButtonClick:function(){return h(null)}}),i.a.createElement(j,{onSubmitImage:function(e){b(e)},isClassifying:o,images:e,handleUnsupportedFormats:function(){h({title:"Invalid file format:",description:"Only JPGs, PNGs, and GIFs are supported"})},results:Object(B.a)(s)}))},U=a(15),R=a(47),T=a(44),J=a(16),L=a.n(J),M=a(11),q=a.n(M),G=a(27),z=a.n(G),H=[i.a.createElement(R.a,{className:"link getting-started",key:"distance-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/apidocs/visual-recognition"},i.a.createElement(T.a,{className:"link-button",kind:"tertiary",renderIcon:q.a},"Social Distance"),i.a.createElement(z.a,{className:"link-icon"})),i.a.createElement(R.a,{className:"link getting-started",key:"estimation-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/registration?target=%2Fcatalog%2Fservices%2Fvisual-recognition%3FhideTours%3Dtrue%26cm_mmc%3D-_-Watson%2BCore_Watson%2BCore%2B-%2BPlatform-_-WW_WW-_-wdc-ref%26cm_mmc%3D-_-Watson%2BCore_Watson%2BCore%2B-%2BPlatform-_-WW_WW-_-wdc-ref%26cm_mmca1%3D000000OF%26cm_mmca2%3D10000409&_ga=2.158846578.918027017.1572271296-1405764752.1539884377&_gac=1.250083700.1571850605.Cj0KCQjw3JXtBRC8ARIsAEBHg4m4g1PSkKQRoI6YUe4A-6ysul0ziiWU0DVbqlbWAQpq3721u-bxkd0aAkV3EALw_wcB&cm_mc_uid=83381689395615475202389&cm_mc_sid_50200000=82214471572470185115&cm_mc_sid_52640000=21949701572470185117&cm_mmc=Earned-_-Watson%20Core%20-%20Platform-_-WW_WW-_-intercom&cm_mmca1=000000OF&cm_mmca2=10000409"},i.a.createElement(T.a,{className:"link-button",kind:"tertiary",renderIcon:q.a},"Spread Estimation"),i.a.createElement(L.a,{className:"link-icon"})),i.a.createElement(R.a,{className:"link getting-started",key:"events-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/watson-developer-cloud/visual-recognition-code-pattern"},i.a.createElement(T.a,{className:"link-button",kind:"tertiary",renderIcon:q.a},"Events Log"),i.a.createElement(L.a,{className:"link-icon"}))],Q=function(){return r("https://cdn.jsdelivr.net/gh/watson-developer-cloud/watson-developer-cloud.github.io@master/analytics.js"),i.a.createElement("div",{className:"app-container"},i.a.createElement(m,{description:U.a,links:H,title:U.b}),i.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.8943408e.chunk.js.map